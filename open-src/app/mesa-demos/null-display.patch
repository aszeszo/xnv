diff -urp progs/xdemos/glthreads.c progs/xdemos/glthreads.c
--- progs/xdemos/glthreads.c	2006-03-25 14:21:47.000000000 -0800
+++ progs/xdemos/glthreads.c	2006-12-07 13:12:57.791246000 -0800
@@ -473,7 +473,7 @@ main(int argc, char *argv[])
 
       dpy = XOpenDisplay(displayName);
       if (!dpy) {
-         fprintf(stderr, "Unable to open display %s\n", displayName);
+         fprintf(stderr, "Unable to open display %s\n", XDisplayName(displayName));
          return -1;
       }
    }
diff -urp progs/xdemos/glxcontexts.c progs/xdemos/glxcontexts.c
--- progs/xdemos/glxcontexts.c	2005-01-12 11:11:47.000000000 -0800
+++ progs/xdemos/glxcontexts.c	2006-12-07 13:14:08.179538000 -0800
@@ -587,8 +587,8 @@ main(int argc, char *argv[])
 
    dpy = XOpenDisplay(dpyName);
    if (!dpy) {
-      printf("Error: couldn't open display %s\n",
-	     dpyName ? dpyName : getenv("DISPLAY"));
+      fprintf(stderr, "Error: couldn't open display %s\n",
+	      XDisplayName(dpyName));
       return -1;
    }
 
diff -urp progs/xdemos/glxgears2.c progs/xdemos/glxgears2.c
--- progs/xdemos/glxgears2.c	2004-03-04 08:46:59.000000000 -0800
+++ progs/xdemos/glxgears2.c	2006-12-07 13:15:21.505130000 -0800
@@ -495,7 +495,7 @@ main(int argc, char *argv[])
 
    dpy = XOpenDisplay(dpyName);
    if (!dpy) {
-      printf("Error: couldn't open display %s\n", dpyName);
+      printf("Error: couldn't open display %s\n", XDisplayName(dpyName));
       return -1;
    }
 
diff -urp progs/xdemos/glxgears_fbconfig.c progs/xdemos/glxgears_fbconfig.c
--- progs/xdemos/glxgears_fbconfig.c	2005-08-31 19:55:48.000000000 -0700
+++ progs/xdemos/glxgears_fbconfig.c	2006-12-07 13:15:42.404849000 -0800
@@ -575,7 +575,7 @@ main(int argc, char *argv[])
 
    dpy = XOpenDisplay(dpyName);
    if (!dpy) {
-      printf("Error: couldn't open display %s\n", dpyName);
+      printf("Error: couldn't open display %s\n", XDisplayName(dpyName));
       return -1;
    }
 
diff -urp progs/xdemos/glxheads.c progs/xdemos/glxheads.c
--- progs/xdemos/glxheads.c	2004-10-02 15:34:51.000000000 -0700
+++ progs/xdemos/glxheads.c	2006-12-07 13:16:42.017497000 -0800
@@ -57,7 +57,7 @@ static int NumHeads = 0;
 static void
 Error(const char *display, const char *msg)
 {
-   fprintf(stderr, "Error on display %s - %s\n", display, msg);
+   fprintf(stderr, "Error on display %s - %s\n", XDisplayName(display), msg);
    exit(1);
 }
 
diff -urp progs/xdemos/glxinfo.c progs/xdemos/glxinfo.c
--- progs/xdemos/glxinfo.c	2006-05-18 09:55:34.000000000 -0700
+++ progs/xdemos/glxinfo.c	2006-12-07 13:10:25.386819000 -0800
@@ -927,7 +927,7 @@ main(int argc, char *argv[])
 
    dpy = XOpenDisplay(displayName);
    if (!dpy) {
-      fprintf(stderr, "Error: unable to open display %s\n", displayName);
+      fprintf(stderr, "Error: unable to open display %s\n", XDisplayName(displayName));
       return -1;
    }
 
diff -urp progs/xdemos/glxswapcontrol.c progs/xdemos/glxswapcontrol.c
--- progs/xdemos/glxswapcontrol.c	2004-10-02 15:34:51.000000000 -0700
+++ progs/xdemos/glxswapcontrol.c	2006-12-07 13:18:03.878502000 -0800
@@ -749,7 +749,7 @@ main(int argc, char *argv[])
 
    dpy = XOpenDisplay(dpyName);
    if (!dpy) {
-      printf("Error: couldn't open display %s\n", dpyName);
+      printf("Error: couldn't open display %s\n", XDisplayName(dpyName));
       return -1;
    }
 
diff -urp progs/xdemos/manywin.c progs/xdemos/manywin.c
--- progs/xdemos/manywin.c	2004-10-02 15:34:51.000000000 -0700
+++ progs/xdemos/manywin.c	2006-12-07 13:18:30.182393000 -0800
@@ -59,7 +59,7 @@ static GLuint TexObj = 0;
 static void
 Error(const char *display, const char *msg)
 {
-   fprintf(stderr, "Error on display %s - %s\n", display, msg);
+   fprintf(stderr, "Error on display %s - %s\n", XDisplayName(display), msg);
    exit(1);
 }
 
diff -urp progs/xdemos/opencloseopen.c progs/xdemos/opencloseopen.c
--- progs/xdemos/opencloseopen.c	2004-02-11 12:16:26.000000000 -0800
+++ progs/xdemos/opencloseopen.c	2006-12-07 13:19:02.351039000 -0800
@@ -91,7 +91,7 @@ make_window( const char * dpyName, const
 
    dpy = XOpenDisplay(dpyName);
    if (!dpy) {
-      printf("Error: couldn't open display %s\n", dpyName);
+      printf("Error: couldn't open display %s\n", XDisplayName(dpyName));
       exit(1);
    }
 
diff -urp progs/xdemos/pbinfo.c progs/xdemos/pbinfo.c
--- progs/xdemos/pbinfo.c	2005-01-11 20:04:27.000000000 -0800
+++ progs/xdemos/pbinfo.c	2006-12-07 13:20:24.202872000 -0800
@@ -95,7 +95,7 @@ main(int argc, char *argv[])
    dpy = XOpenDisplay(dpyName);
 
    if (!dpy) {
-      printf("Error: couldn't open display %s\n", dpyName ? dpyName : ":0");
+      printf("Error: couldn't open display %s\n", XDisplayName(dpyName));
       return 1;
    }
 
diff -urp progs/xdemos/yuvrect_client.c progs/xdemos/yuvrect_client.c
--- progs/xdemos/yuvrect_client.c	2005-02-25 20:56:25.000000000 -0800
+++ progs/xdemos/yuvrect_client.c	2006-12-07 13:21:45.097164000 -0800
@@ -296,7 +296,7 @@ main(int argc, char *argv[])
    dpy = XOpenDisplay(dpyName);
    if (!dpy) {
       printf("Error: couldn't open display %s\n",
-	     dpyName ? dpyName : getenv("DISPLAY"));
+	     XDisplayName(dpyName));
       return -1;
    }
 
