# Copyright 2009 Sun Microsystems, Inc.  All rights reserved.
# Use subject to license terms.
#
# Permission is hereby granted, free of charge, to any person obtaining a
# copy of this software and associated documentation files (the
# "Software"), to deal in the Software without restriction, including
# without limitation the rights to use, copy, modify, merge, publish,
# distribute, and/or sell copies of the Software, and to permit persons
# to whom the Software is furnished to do so, provided that the above
# copyright notice(s) and this permission notice appear in all copies of
# the Software and that both the above copyright notice(s) and this
# permission notice appear in supporting documentation.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT
# OF THIRD PARTY RIGHTS. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
# HOLDERS INCLUDED IN THIS NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL
# INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING
# FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
# NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
# # WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
#
# Except as contained in this notice, the name of a copyright holder
# shall not be used in advertising or otherwise to promote the sale, use
# or other dealings in this Software without prior written authorization
# of the copyright holder.

--- freetype-2.3.9/src/truetype/ttobjs.c	2009-02-11 17:55:26.000000000 -0500
+++ freetype-2.3.9/src/truetype/ttobjs.c	2009-08-27 12:12:00.191763000 -0400
@@ -527,7 +527,7 @@
       error = TT_Err_Ok;
 
     /* save as default graphics state */
-    size->GS = exec->GS;
+    size->FT_GS = exec->FT_GS;
 
     TT_Save_Context( exec, size );
 
@@ -645,7 +645,7 @@
 
     size->twilight.n_points = n_twilight;
 
-    size->GS = tt_default_graphics_state;
+    size->FT_GS = tt_default_graphics_state;
 
     /* set `face->interpreter' according to the debug hook present */
     {
@@ -707,7 +707,7 @@
       for ( i = 0; i < (FT_UInt)size->storage_size; i++ )
         size->storage[i] = 0;
 
-      size->GS = tt_default_graphics_state;
+      size->FT_GS = tt_default_graphics_state;
 
       error = tt_size_run_prep( size );
       if ( !error )
