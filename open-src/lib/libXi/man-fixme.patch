From 2c97ff2264fbced5f6506c288fc5f83c04c48aa1 Mon Sep 17 00:00:00 2001
From: Alan Coopersmith <alan.coopersmith@oracle.com>
Date: Mon, 1 Aug 2011 16:10:03 -0700
Subject: [PATCH:libXi] Fix the FIXME output in man page .TH macros generated by asciidoc

Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
---
 man/Makefile.am |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/man/Makefile.am b/man/Makefile.am
index 28211a1..7e328a5 100644
--- a/man/Makefile.am
+++ b/man/Makefile.am
@@ -162,6 +162,10 @@ MAN_SUBSTS += -e 's/\[FIXME: manual\]/XINPUT FUNCTIONS/'
 # asciidoc generates shadow page references without the man section directory
 MAN_SUBSTS += -e 's/^\.so X/.so man$(LIB_MAN_SUFFIX)\/X/'
 
+# asciidoc is generating [FIXME...] values in the .TH line we should fix.
+MAN_SUBSTS += -e 's/\[FIXME: source\]/$(XORG_MAN_PAGE)/'
+MAN_SUBSTS += -e 's/\[FIXME: manual\]/XINPUT FUNCTIONS/'
+
 SUFFIXES = .man .$(LIB_MAN_SUFFIX)
 .man.$(LIB_MAN_SUFFIX):
 	$(AM_V_GEN)$(SED) $(MAN_SUBSTS) < $< > $@
