From 624b7a507cdea25cec0728b4679610df3fb3097c Mon Sep 17 00:00:00 2001
From: Derek Wang <derek.wang@sun.com>
Date: Thu, 21 Aug 2008 16:06:51 -0700
Subject: [PATCH] Sun bug 4510977: dtremote fails to start session

<http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=4510977>
---
 src/fontfile/fontdir.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/src/fontfile/fontdir.c b/src/fontfile/fontdir.c
index cd9fde1..00c7511 100644
--- a/src/fontfile/fontdir.c
+++ b/src/fontfile/fontdir.c
@@ -457,6 +457,8 @@ FontFileFindNameInScalableDir(FontTableP
                 private;
     FontNamePtr	name;
 
+    if (!table->entries)
+	return NULL;
     if ((i = SetupWildMatch(table, pat, &start, &stop, &private)) >= 0)
 	return &table->entries[i];
     for (i = start; i < stop; i++) {
-- 
1.4.1

